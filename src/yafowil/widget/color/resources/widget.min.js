!function(e,t){"use strict";
/*!
   * iro.js v5.5.2
   * 2016-2021 James Daniel
   * Licensed under MPL 2.0
   * github.com/jaames/iro.js
   */var n,i,r,o,s,l={},a=[],h=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i;function c(e,t){for(var n in t)e[n]=t[n];return e}function u(e){var t=e.parentNode;t&&t.removeChild(e)}function d(e,t,n){var i,r,o,s,l=arguments;if(t=c({},t),arguments.length>3)for(n=[n],i=3;i<arguments.length;i++)n.push(l[i]);if(null!=n&&(t.children=n),null!=e&&null!=e.defaultProps)for(r in e.defaultProps)void 0===t[r]&&(t[r]=e.defaultProps[r]);return s=t.key,null!=(o=t.ref)&&delete t.ref,null!=s&&delete t.key,p(e,t,s,o)}function p(e,t,i,r){var o={type:e,props:t,key:i,ref:r,__k:null,__p:null,__b:0,__e:null,l:null,__c:null,constructor:void 0};return n.vnode&&n.vnode(o),o}function f(e){return e.children}function v(e,t){this.props=e,this.context=t}function _(e,t){if(null==t)return e.__p?_(e.__p,e.__p.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?_(e):null}function g(e){var t,n;if(null!=(e=e.__p)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return g(e)}}function y(e){(!e.__d&&(e.__d=!0)&&1===i.push(e)||o!==n.debounceRendering)&&(o=n.debounceRendering,(n.debounceRendering||r)(m))}function m(){var e,t,n,r,o,s,l,a;for(i.sort((function(e,t){return t.__v.__b-e.__v.__b}));e=i.pop();)e.__d&&(n=void 0,r=void 0,s=(o=(t=e).__v).__e,l=t.__P,a=t.u,t.u=!1,l&&(n=[],r=E(l,o,c({},o),t.__n,void 0!==l.ownerSVGElement,null,n,a,null==s?_(o):s),C(n,o),r!=s&&g(o)))}function b(e,t,n,i,r,o,s,h,c){var d,p,f,v,g,y,m,b=n&&n.__k||a,k=b.length;if(h==l&&(h=null!=o?o[0]:k?_(n,0):null),d=0,t.__k=w(t.__k,(function(n){if(null!=n){if(n.__p=t,n.__b=t.__b+1,null===(f=b[d])||f&&n.key==f.key&&n.type===f.type)b[d]=void 0;else for(p=0;p<k;p++){if((f=b[p])&&n.key==f.key&&n.type===f.type){b[p]=void 0;break}f=null}if(v=E(e,n,f=f||l,i,r,o,s,null,h,c),(p=n.ref)&&f.ref!=p&&(m||(m=[])).push(p,n.__c||v,n),null!=v){if(null==y&&(y=v),null!=n.l)v=n.l,n.l=null;else if(o==f||v!=h||null==v.parentNode){e:if(null==h||h.parentNode!==e)e.appendChild(v);else{for(g=h,p=0;(g=g.nextSibling)&&p<k;p+=2)if(g==v)break e;e.insertBefore(v,h)}"option"==t.type&&(e.value="")}h=v.nextSibling,"function"==typeof t.type&&(t.l=v)}}return d++,n})),t.__e=y,null!=o&&"function"!=typeof t.type)for(d=o.length;d--;)null!=o[d]&&u(o[d]);for(d=k;d--;)null!=b[d]&&A(b[d],b[d]);if(m)for(d=0;d<m.length;d++)R(m[d],m[++d],m[++d])}function w(e,t,n){if(null==n&&(n=[]),null==e||"boolean"==typeof e)t&&n.push(t(null));else if(Array.isArray(e))for(var i=0;i<e.length;i++)w(e[i],t,n);else n.push(t?t(function(e){if(null==e||"boolean"==typeof e)return null;if("string"==typeof e||"number"==typeof e)return p(null,e,null,null);if(null!=e.__e||null!=e.__c){var t=p(e.type,e.props,e.key,null);return t.__e=e.__e,t}return e}(e)):e);return n}function k(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]="number"==typeof n&&!1===h.test(t)?n+"px":null==n?"":n}function x(e,t,n,i,r){var o,s,l,a,h;if("key"===(t=r?"className"===t?"class":t:"class"===t?"className":t)||"children"===t);else if("style"===t)if(o=e.style,"string"==typeof n)o.cssText=n;else{if("string"==typeof i&&(o.cssText="",i=null),i)for(s in i)n&&s in n||k(o,s,"");if(n)for(l in n)i&&n[l]===i[l]||k(o,l,n[l])}else"o"===t[0]&&"n"===t[1]?(a=t!==(t=t.replace(/Capture$/,"")),h=t.toLowerCase(),t=(h in e?h:t).slice(2),n?(i||e.addEventListener(t,S,a),(e.t||(e.t={}))[t]=n):e.removeEventListener(t,S,a)):"list"!==t&&"tagName"!==t&&"form"!==t&&!r&&t in e?e[t]=null==n?"":n:"function"!=typeof n&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/^xlink:?/,""))?null==n||!1===n?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),n):null==n||!1===n?e.removeAttribute(t):e.setAttribute(t,n))}function S(e){return this.t[e.type](n.event?n.event(e):e)}function E(e,t,i,r,o,s,l,a,h,u){var d,p,_,g,y,m,k,x,S,E,C=t.type;if(void 0!==t.constructor)return null;(d=n.__b)&&d(t);try{e:if("function"==typeof C){if(x=t.props,S=(d=C.contextType)&&r[d.__c],E=d?S?S.props.value:d.__p:r,i.__c?k=(p=t.__c=i.__c).__p=p.__E:("prototype"in C&&C.prototype.render?t.__c=p=new C(x,E):(t.__c=p=new v(x,E),p.constructor=C,p.render=M),S&&S.sub(p),p.props=x,p.state||(p.state={}),p.context=E,p.__n=r,_=p.__d=!0,p.__h=[]),null==p.__s&&(p.__s=p.state),null!=C.getDerivedStateFromProps&&c(p.__s==p.state?p.__s=c({},p.__s):p.__s,C.getDerivedStateFromProps(x,p.__s)),_)null==C.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),null!=p.componentDidMount&&l.push(p);else{if(null==C.getDerivedStateFromProps&&null==a&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(x,E),!a&&null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(x,p.__s,E)){for(p.props=x,p.state=p.__s,p.__d=!1,p.__v=t,t.__e=null!=h?h!==i.__e?h:i.__e:null,t.__k=i.__k,d=0;d<t.__k.length;d++)t.__k[d]&&(t.__k[d].__p=t);break e}null!=p.componentWillUpdate&&p.componentWillUpdate(x,p.__s,E)}for(g=p.props,y=p.state,p.context=E,p.props=x,p.state=p.__s,(d=n.__r)&&d(t),p.__d=!1,p.__v=t,p.__P=e,d=p.render(p.props,p.state,p.context),t.__k=w(null!=d&&d.type==f&&null==d.key?d.props.children:d),null!=p.getChildContext&&(r=c(c({},r),p.getChildContext())),_||null==p.getSnapshotBeforeUpdate||(m=p.getSnapshotBeforeUpdate(g,y)),b(e,t,i,r,o,s,l,h,u),p.base=t.__e;d=p.__h.pop();)p.__s&&(p.state=p.__s),d.call(p);_||null==g||null==p.componentDidUpdate||p.componentDidUpdate(g,y,m),k&&(p.__E=p.__p=null)}else t.__e=T(i.__e,t,i,r,o,s,l,u);(d=n.diffed)&&d(t)}catch(e){n.__e(e,t,i)}return t.__e}function C(e,t){for(var i;i=e.pop();)try{i.componentDidMount()}catch(e){n.__e(e,i.__v)}n.__c&&n.__c(t)}function T(e,t,n,i,r,o,s,h){var c,u,d,p,f=n.props,v=t.props;if(r="svg"===t.type||r,null==e&&null!=o)for(c=0;c<o.length;c++)if(null!=(u=o[c])&&(null===t.type?3===u.nodeType:u.localName===t.type)){e=u,o[c]=null;break}if(null==e){if(null===t.type)return document.createTextNode(v);e=r?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type),o=null}return null===t.type?f!==v&&(null!=o&&(o[o.indexOf(e)]=null),e.data=v):t!==n&&(null!=o&&(o=a.slice.call(e.childNodes)),d=(f=n.props||l).dangerouslySetInnerHTML,p=v.dangerouslySetInnerHTML,h||(p||d)&&(p&&d&&p.__html==d.__html||(e.innerHTML=p&&p.__html||"")),function(e,t,n,i,r){var o;for(o in n)o in t||x(e,o,null,n[o],i);for(o in t)r&&"function"!=typeof t[o]||"value"===o||"checked"===o||n[o]===t[o]||x(e,o,t[o],n[o],i)}(e,v,f,r,h),t.__k=t.props.children,p||b(e,t,n,i,"foreignObject"!==t.type&&r,o,s,l,h),h||("value"in v&&void 0!==v.value&&v.value!==e.value&&(e.value=null==v.value?"":v.value),"checked"in v&&void 0!==v.checked&&v.checked!==e.checked&&(e.checked=v.checked))),e}function R(e,t,i){try{"function"==typeof e?e(t):e.current=t}catch(e){n.__e(e,i)}}function A(e,t,i){var r,o,s;if(n.unmount&&n.unmount(e),(r=e.ref)&&R(r,null,t),i||"function"==typeof e.type||(i=null!=(o=e.__e)),e.__e=e.l=null,null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){n.__e(e,t)}r.base=r.__P=null}if(r=e.__k)for(s=0;s<r.length;s++)r[s]&&A(r[s],t,i);null!=o&&u(o)}function M(e,t,n){return this.constructor(e,n)}function O(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function I(){return I=Object.assign||function(e){for(var t=arguments,n=1;n<arguments.length;n++){var i=t[n];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},I.apply(this,arguments)}n={},v.prototype.setState=function(e,t){var n=this.__s!==this.state&&this.__s||(this.__s=c({},this.state));("function"!=typeof e||(e=e(n,this.props)))&&c(n,e),null!=e&&this.__v&&(this.u=!1,t&&this.__h.push(t),y(this))},v.prototype.forceUpdate=function(e){this.__v&&(e&&this.__h.push(e),this.u=!0,y(this))},v.prototype.render=f,i=[],r="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,o=n.debounceRendering,n.__e=function(e,t,n){for(var i;t=t.__p;)if((i=t.__c)&&!i.__p)try{if(i.constructor&&null!=i.constructor.getDerivedStateFromError)i.setState(i.constructor.getDerivedStateFromError(e));else{if(null==i.componentDidCatch)continue;i.componentDidCatch(e)}return y(i.__E=i)}catch(t){e=t}throw e},s=l;var P="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",j="[\\s|\\(]+("+P+")[,|\\s]+("+P+")[,|\\s]+("+P+")\\s*\\)?",D="[\\s|\\(]+("+P+")[,|\\s]+("+P+")[,|\\s]+("+P+")[,|\\s]+("+P+")\\s*\\)?",N=new RegExp("rgb"+j),$=new RegExp("rgba"+D),H=new RegExp("hsl"+j),W=new RegExp("hsla"+D),L="^(?:#?|0x?)",z="([0-9a-fA-F]{1})",B="([0-9a-fA-F]{2})",U=new RegExp(L+z+z+z+"$"),F=new RegExp(L+z+z+z+z+"$"),q=new RegExp(L+B+B+B+"$"),V=new RegExp(L+B+B+B+B+"$"),G=Math.log,J=Math.round,K=Math.floor;function X(e,t,n){return Math.min(Math.max(e,t),n)}function Y(e,t){var n=e.indexOf("%")>-1,i=parseFloat(e);return n?t/100*i:i}function Q(e){return parseInt(e,16)}function Z(e){return e.toString(16).padStart(2,"0")}var ee=function(){function e(e,t){this.$={h:0,s:0,v:0,a:1},e&&this.set(e),this.onChange=t,this.initialValue=I({},this.$)}var t,n,i,r=e.prototype;return r.set=function(t){if("string"==typeof t)/^(?:#?|0x?)[0-9a-fA-F]{3,8}$/.test(t)?this.hexString=t:/^rgba?/.test(t)?this.rgbString=t:/^hsla?/.test(t)&&(this.hslString=t);else{if("object"!=typeof t)throw new Error("Invalid color value");t instanceof e?this.hsva=t.hsva:"r"in t&&"g"in t&&"b"in t?this.rgb=t:"h"in t&&"s"in t&&"v"in t?this.hsv=t:"h"in t&&"s"in t&&"l"in t?this.hsl=t:"kelvin"in t&&(this.kelvin=t.kelvin)}},r.setChannel=function(e,t,n){var i;this[e]=I({},this[e],((i={})[t]=n,i))},r.reset=function(){this.hsva=this.initialValue},r.clone=function(){return new e(this)},r.unbind=function(){this.onChange=void 0},e.hsvToRgb=function(e){var t=e.h/60,n=e.s/100,i=e.v/100,r=K(t),o=t-r,s=i*(1-n),l=i*(1-o*n),a=i*(1-(1-o)*n),h=r%6,c=[a,i,i,l,s,s][h],u=[s,s,a,i,i,l][h];return{r:X(255*[i,l,s,s,a,i][h],0,255),g:X(255*c,0,255),b:X(255*u,0,255)}},e.rgbToHsv=function(e){var t=e.r/255,n=e.g/255,i=e.b/255,r=Math.max(t,n,i),o=Math.min(t,n,i),s=r-o,l=0,a=r,h=0===r?0:s/r;switch(r){case o:l=0;break;case t:l=(n-i)/s+(n<i?6:0);break;case n:l=(i-t)/s+2;break;case i:l=(t-n)/s+4}return{h:60*l%360,s:X(100*h,0,100),v:X(100*a,0,100)}},e.hsvToHsl=function(e){var t=e.s/100,n=e.v/100,i=(2-t)*n,r=i<=1?i:2-i,o=r<1e-9?0:t*n/r;return{h:e.h,s:X(100*o,0,100),l:X(50*i,0,100)}},e.hslToHsv=function(e){var t=2*e.l,n=e.s*(t<=100?t:200-t)/100,i=t+n<1e-9?0:2*n/(t+n);return{h:e.h,s:X(100*i,0,100),v:X((t+n)/2,0,100)}},e.kelvinToRgb=function(e){var t,n,i,r=e/100;return r<66?(t=255,n=-155.25485562709179-.44596950469579133*(n=r-2)+104.49216199393888*G(n),i=r<20?0:.8274096064007395*(i=r-10)-254.76935184120902+115.67994401066147*G(i)):(t=351.97690566805693+.114206453784165*(t=r-55)-40.25366309332127*G(t),n=325.4494125711974+.07943456536662342*(n=r-50)-28.0852963507957*G(n),i=255),{r:X(K(t),0,255),g:X(K(n),0,255),b:X(K(i),0,255)}},e.rgbToKelvin=function(t){for(var n,i=t.r,r=t.b,o=2e3,s=4e4;s-o>.4;){n=.5*(s+o);var l=e.kelvinToRgb(n);l.b/l.r>=r/i?s=n:o=n}return n},t=e,n=[{key:"hsv",get:function(){var e=this.$;return{h:e.h,s:e.s,v:e.v}},set:function(e){var t=this.$;if(e=I({},t,e),this.onChange){var n={h:!1,v:!1,s:!1,a:!1};for(var i in t)n[i]=e[i]!=t[i];this.$=e,(n.h||n.s||n.v||n.a)&&this.onChange(this,n)}else this.$=e}},{key:"hsva",get:function(){return I({},this.$)},set:function(e){this.hsv=e}},{key:"hue",get:function(){return this.$.h},set:function(e){this.hsv={h:e}}},{key:"saturation",get:function(){return this.$.s},set:function(e){this.hsv={s:e}}},{key:"value",get:function(){return this.$.v},set:function(e){this.hsv={v:e}}},{key:"alpha",get:function(){return this.$.a},set:function(e){this.hsv=I({},this.hsv,{a:e})}},{key:"kelvin",get:function(){return e.rgbToKelvin(this.rgb)},set:function(t){this.rgb=e.kelvinToRgb(t)}},{key:"red",get:function(){return this.rgb.r},set:function(e){this.rgb=I({},this.rgb,{r:e})}},{key:"green",get:function(){return this.rgb.g},set:function(e){this.rgb=I({},this.rgb,{g:e})}},{key:"blue",get:function(){return this.rgb.b},set:function(e){this.rgb=I({},this.rgb,{b:e})}},{key:"rgb",get:function(){var t=e.hsvToRgb(this.$),n=t.r,i=t.g,r=t.b;return{r:J(n),g:J(i),b:J(r)}},set:function(t){this.hsv=I({},e.rgbToHsv(t),{a:void 0===t.a?1:t.a})}},{key:"rgba",get:function(){return I({},this.rgb,{a:this.alpha})},set:function(e){this.rgb=e}},{key:"hsl",get:function(){var t=e.hsvToHsl(this.$),n=t.h,i=t.s,r=t.l;return{h:J(n),s:J(i),l:J(r)}},set:function(t){this.hsv=I({},e.hslToHsv(t),{a:void 0===t.a?1:t.a})}},{key:"hsla",get:function(){return I({},this.hsl,{a:this.alpha})},set:function(e){this.hsl=e}},{key:"rgbString",get:function(){var e=this.rgb;return"rgb("+e.r+", "+e.g+", "+e.b+")"},set:function(e){var t,n,i,r,o=1;if((t=N.exec(e))?(n=Y(t[1],255),i=Y(t[2],255),r=Y(t[3],255)):(t=$.exec(e))&&(n=Y(t[1],255),i=Y(t[2],255),r=Y(t[3],255),o=Y(t[4],1)),!t)throw new Error("Invalid rgb string");this.rgb={r:n,g:i,b:r,a:o}}},{key:"rgbaString",get:function(){var e=this.rgba;return"rgba("+e.r+", "+e.g+", "+e.b+", "+e.a+")"},set:function(e){this.rgbString=e}},{key:"hexString",get:function(){var e=this.rgb;return"#"+Z(e.r)+Z(e.g)+Z(e.b)},set:function(e){var t,n,i,r,o=255;if((t=U.exec(e))?(n=17*Q(t[1]),i=17*Q(t[2]),r=17*Q(t[3])):(t=F.exec(e))?(n=17*Q(t[1]),i=17*Q(t[2]),r=17*Q(t[3]),o=17*Q(t[4])):(t=q.exec(e))?(n=Q(t[1]),i=Q(t[2]),r=Q(t[3])):(t=V.exec(e))&&(n=Q(t[1]),i=Q(t[2]),r=Q(t[3]),o=Q(t[4])),!t)throw new Error("Invalid hex string");this.rgb={r:n,g:i,b:r,a:o/255}}},{key:"hex8String",get:function(){var e=this.rgba;return"#"+Z(e.r)+Z(e.g)+Z(e.b)+Z(K(255*e.a))},set:function(e){this.hexString=e}},{key:"hslString",get:function(){var e=this.hsl;return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},set:function(e){var t,n,i,r,o=1;if((t=H.exec(e))?(n=Y(t[1],360),i=Y(t[2],100),r=Y(t[3],100)):(t=W.exec(e))&&(n=Y(t[1],360),i=Y(t[2],100),r=Y(t[3],100),o=Y(t[4],1)),!t)throw new Error("Invalid hsl string");this.hsl={h:n,s:i,l:r,a:o}}},{key:"hslaString",get:function(){var e=this.hsla;return"hsla("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"},set:function(e){this.hslString=e}}],n&&O(t.prototype,n),i&&O(t,i),e}();function te(e){var t,n=e.width,i=e.sliderSize,r=e.borderWidth,o=e.handleRadius,s=e.padding,l=e.sliderShape,a="horizontal"===e.layoutDirection;return i=null!=(t=i)?t:2*s+2*o,"circle"===l?{handleStart:e.padding+e.handleRadius,handleRange:n-2*s-2*o,width:n,height:n,cx:n/2,cy:n/2,radius:n/2-r/2}:{handleStart:i/2,handleRange:n-i,radius:i/2,x:0,y:0,width:a?i:n,height:a?n:i}}function ne(e,t){var n=te(e),i=n.width,r=n.height,o=n.handleRange,s=n.handleStart,l="horizontal"===e.layoutDirection,a=function(e,t){var n=t.hsva,i=t.rgb;switch(e.sliderType){case"red":return i.r/2.55;case"green":return i.g/2.55;case"blue":return i.b/2.55;case"alpha":return 100*n.a;case"kelvin":var r=e.minTemperature,o=e.maxTemperature-r,s=(t.kelvin-r)/o*100;return Math.max(0,Math.min(s,100));case"hue":return n.h/=3.6;case"saturation":return n.s;default:return n.v}}(e,t),h=l?i/2:r/2,c=s+a/100*o;return l&&(c=-1*c+o+2*s),{x:l?h:c,y:l?c:h}}var ie,re=2*Math.PI,oe=function(e,t){return Math.sqrt(e*e+t*t)};function se(e){return e.width/2-e.padding-e.handleRadius-e.borderWidth}function le(e){var t=e.width/2;return{width:e.width,radius:t-e.borderWidth,cx:t,cy:t}}function ae(e,t,n){var i=e.wheelAngle,r=e.wheelDirection;return n&&"clockwise"===r?t=i+t:"clockwise"===r?t=360-i+t:n&&"anticlockwise"===r?t=i+180-t:"anticlockwise"===r&&(t=i-t),function(e,t){return(e%t+t)%t}(t,360)}function he(e,t,n){var i=le(e),r=i.cx,o=i.cy,s=se(e);t=r-t,n=o-n;var l=ae(e,Math.atan2(-n,-t)*(360/re)),a=Math.min(oe(t,n),s);return{h:Math.round(l),s:Math.round(100/s*a)}}function ce(e){var t=e.width,n=e.boxHeight;return{width:t,height:null!=n?n:t,radius:e.padding+e.handleRadius}}function ue(e,t,n){var i=ce(e),r=i.width,o=i.height,s=i.radius,l=(t-s)/(r-2*s)*100,a=(n-s)/(o-2*s)*100;return{s:Math.max(0,Math.min(l,100)),v:Math.max(0,Math.min(100-a,100))}}function de(e){ie||(ie=document.getElementsByTagName("base"));var t=window.navigator.userAgent,n=/^((?!chrome|android).)*safari/i.test(t),i=/iPhone|iPod|iPad/i.test(t),r=window.location;return(n||i)&&ie.length>0?r.protocol+"//"+r.host+r.pathname+r.search+e:e}function pe(e,t,n,i){for(var r=0;r<i.length;r++){var o=i[r].x-t,s=i[r].y-n;if(Math.sqrt(o*o+s*s)<e.handleRadius)return r}return null}function fe(e){return{boxSizing:"border-box",border:e.borderWidth+"px solid "+e.borderColor}}function ve(e,t,n){return e+"-gradient("+t+", "+n.map((function(e){var t=e[0];return e[1]+" "+t+"%"})).join(",")+")"}function _e(e){return"string"==typeof e?e:e+"px"}var ge=["mousemove","touchmove","mouseup","touchend"],ye=function(e){function t(t){e.call(this,t),this.uid=(Math.random()+1).toString(36).substring(5)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(e){var t=this.handleEvent.bind(this),n={onMouseDown:t,ontouchstart:t},i="horizontal"===e.layoutDirection,r=null===e.margin?e.sliderMargin:e.margin,o={overflow:"visible",display:i?"inline-block":"block"};return e.index>0&&(o[i?"marginLeft":"marginTop"]=r),d(f,null,e.children(this.uid,n,o))},t.prototype.handleEvent=function(e){var t=this,n=this.props.onInput,i=this.base.getBoundingClientRect();e.preventDefault();var r=e.touches?e.changedTouches[0]:e,o=r.clientX-i.left,s=r.clientY-i.top;switch(e.type){case"mousedown":case"touchstart":!1!==n(o,s,0)&&ge.forEach((function(e){document.addEventListener(e,t,{passive:!1})}));break;case"mousemove":case"touchmove":n(o,s,1);break;case"mouseup":case"touchend":n(o,s,2),ge.forEach((function(e){document.removeEventListener(e,t,{passive:!1})}))}},t}(v);function me(e){var t=e.r,n=e.url,i=t,r=t;return d("svg",{className:"IroHandle IroHandle--"+e.index+" "+(e.isActive?"IroHandle--isActive":""),style:{"-webkit-tap-highlight-color":"rgba(0, 0, 0, 0);",transform:"translate("+_e(e.x)+", "+_e(e.y)+")",willChange:"transform",top:_e(-t),left:_e(-t),width:_e(2*t),height:_e(2*t),position:"absolute",overflow:"visible"}},n&&d("use",Object.assign({xlinkHref:de(n)},e.props)),!n&&d("circle",{cx:i,cy:r,r:t,fill:"none","stroke-width":2,stroke:"#000"}),!n&&d("circle",{cx:i,cy:r,r:t-2,fill:e.fill,"stroke-width":2,stroke:"#fff"}))}function be(e){var t=e.activeIndex,n=void 0!==t&&t<e.colors.length?e.colors[t]:e.color,i=te(e),r=i.width,o=i.height,s=i.radius,l=ne(e,n),a=function(e,t){var n=t.hsv,i=t.rgb;switch(e.sliderType){case"red":return[[0,"rgb(0,"+i.g+","+i.b+")"],[100,"rgb(255,"+i.g+","+i.b+")"]];case"green":return[[0,"rgb("+i.r+",0,"+i.b+")"],[100,"rgb("+i.r+",255,"+i.b+")"]];case"blue":return[[0,"rgb("+i.r+","+i.g+",0)"],[100,"rgb("+i.r+","+i.g+",255)"]];case"alpha":return[[0,"rgba("+i.r+","+i.g+","+i.b+",0)"],[100,"rgb("+i.r+","+i.g+","+i.b+")"]];case"kelvin":for(var r=[],o=e.minTemperature,s=e.maxTemperature,l=s-o,a=o,h=0;a<s;a+=l/8,h+=1){var c=ee.kelvinToRgb(a),u=c.r,d=c.g,p=c.b;r.push([12.5*h,"rgb("+u+","+d+","+p+")"])}return r;case"hue":return[[0,"#f00"],[16.666,"#ff0"],[33.333,"#0f0"],[50,"#0ff"],[66.666,"#00f"],[83.333,"#f0f"],[100,"#f00"]];case"saturation":var f=ee.hsvToHsl({h:n.h,s:0,v:n.v}),v=ee.hsvToHsl({h:n.h,s:100,v:n.v});return[[0,"hsl("+f.h+","+f.s+"%,"+f.l+"%)"],[100,"hsl("+v.h+","+v.s+"%,"+v.l+"%)"]];default:var _=ee.hsvToHsl({h:n.h,s:n.s,v:100});return[[0,"#000"],[100,"hsl("+_.h+","+_.s+"%,"+_.l+"%)"]]}}(e,n);return d(ye,Object.assign({},e,{onInput:function(t,i,r){var o=function(e,t,n){var i,r=te(e),o=r.handleRange,s=r.handleStart;i="horizontal"===e.layoutDirection?-1*n+o+s:t-s,i=Math.max(Math.min(i,o),0);var l=Math.round(100/o*i);switch(e.sliderType){case"kelvin":var a=e.minTemperature;return a+(e.maxTemperature-a)*(l/100);case"alpha":return l/100;case"hue":return 3.6*l;case"red":case"blue":case"green":return 2.55*l;default:return l}}(e,t,i);e.parent.inputActive=!0,n[e.sliderType]=o,e.onInput(r,e.id)}}),(function(t,i,h){return d("div",Object.assign({},i,{className:"IroSlider",style:Object.assign({},{position:"relative",width:_e(r),height:_e(o),borderRadius:_e(s),background:"conic-gradient(#ccc 25%, #fff 0 50%, #ccc 0 75%, #fff 0)",backgroundSize:"8px 8px"},h)}),d("div",{className:"IroSliderGradient",style:Object.assign({},{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:_e(s),background:ve("linear","horizontal"===e.layoutDirection?"to top":"to right",a)},fe(e))}),d(me,{isActive:!0,index:n.index,r:e.handleRadius,url:e.handleSvg,props:e.handleProps,x:l.x,y:l.y}))}))}function we(e){var t=ce(e),n=t.width,i=t.height,r=t.radius,o=e.colors,s=e.parent,l=e.activeIndex,a=void 0!==l&&l<e.colors.length?e.colors[l]:e.color,h=[[[0,"#fff"],[100,"hsl("+a.hue+",100%,50%)"]],[[0,"rgba(0,0,0,0)"],[100,"#000"]]],c=o.map((function(t){return function(e,t){var n=ce(e),i=n.width,r=n.height,o=n.radius,s=t.hsv,l=o,a=i-2*o,h=r-2*o;return{x:l+s.s/100*a,y:l+(h-s.v/100*h)}}(e,t)}));return d(ye,Object.assign({},e,{onInput:function(t,n,i){if(0===i){var r=pe(e,t,n,c);null!==r?s.setActiveColor(r):(s.inputActive=!0,a.hsv=ue(e,t,n),e.onInput(i,e.id))}else 1===i&&(s.inputActive=!0,a.hsv=ue(e,t,n));e.onInput(i,e.id)}}),(function(t,s,l){return d("div",Object.assign({},s,{className:"IroBox",style:Object.assign({},{width:_e(n),height:_e(i),position:"relative"},l)}),d("div",{className:"IroBox",style:Object.assign({},{width:"100%",height:"100%",borderRadius:_e(r)},fe(e),{background:ve("linear","to bottom",h[1])+","+ve("linear","to right",h[0])})}),o.filter((function(e){return e!==a})).map((function(t){return d(me,{isActive:!1,index:t.index,fill:t.hslString,r:e.handleRadius,url:e.handleSvg,props:e.handleProps,x:c[t.index].x,y:c[t.index].y})})),d(me,{isActive:!0,index:a.index,fill:a.hslString,r:e.activeHandleRadius||e.handleRadius,url:e.handleSvg,props:e.handleProps,x:c[a.index].x,y:c[a.index].y}))}))}me.defaultProps={fill:"none",x:0,y:0,r:8,url:null,props:{x:0,y:0}},be.defaultProps=Object.assign({},{sliderShape:"bar",sliderType:"value",minTemperature:2200,maxTemperature:11e3});function ke(e){var t=le(e).width,n=e.colors;e.borderWidth;var i=e.parent,r=e.color,o=r.hsv,s=n.map((function(t){return function(e,t){var n=t.hsv,i=le(e),r=i.cx,o=i.cy,s=se(e),l=(180+ae(e,n.h,!0))*(re/360),a=n.s/100*s,h="clockwise"===e.wheelDirection?-1:1;return{x:r+a*Math.cos(l)*h,y:o+a*Math.sin(l)*h}}(e,t)})),l={position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",boxSizing:"border-box"};return d(ye,Object.assign({},e,{onInput:function(t,n,o){if(0===o){if(!function(e,t,n){var i=le(e),r=i.cx,o=i.cy,s=e.width/2;return oe(r-t,o-n)<s}(e,t,n))return!1;var l=pe(e,t,n,s);null!==l?i.setActiveColor(l):(i.inputActive=!0,r.hsv=he(e,t,n),e.onInput(o,e.id))}else 1===o&&(i.inputActive=!0,r.hsv=he(e,t,n));e.onInput(o,e.id)}}),(function(i,a,h){return d("div",Object.assign({},a,{className:"IroWheel",style:Object.assign({},{width:_e(t),height:_e(t),position:"relative"},h)}),d("div",{className:"IroWheelHue",style:Object.assign({},l,{transform:"rotateZ("+(e.wheelAngle+90)+"deg)",background:"clockwise"===e.wheelDirection?"conic-gradient(red, yellow, lime, aqua, blue, magenta, red)":"conic-gradient(red, magenta, blue, aqua, lime, yellow, red)"})}),d("div",{className:"IroWheelSaturation",style:Object.assign({},l,{background:"radial-gradient(circle closest-side, #fff, transparent)"})}),e.wheelLightness&&d("div",{className:"IroWheelLightness",style:Object.assign({},l,{background:"#000",opacity:1-o.v/100})}),d("div",{className:"IroWheelBorder",style:Object.assign({},l,fe(e))}),n.filter((function(e){return e!==r})).map((function(t){return d(me,{isActive:!1,index:t.index,fill:t.hslString,r:e.handleRadius,url:e.handleSvg,props:e.handleProps,x:s[t.index].x,y:s[t.index].y})})),d(me,{isActive:!0,index:r.index,fill:r.hslString,r:e.activeHandleRadius||e.handleRadius,url:e.handleSvg,props:e.handleProps,x:s[r.index].x,y:s[r.index].y}))}))}var xe=function(e){function t(t){var n=this;e.call(this,t),this.colors=[],this.inputActive=!1,this.events={},this.activeEvents={},this.deferredEvents={},this.id=t.id,(t.colors.length>0?t.colors:[t.color]).forEach((function(e){return n.addColor(e)})),this.setActiveColor(0),this.state=Object.assign({},t,{color:this.color,colors:this.colors,layout:t.layout})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.addColor=function(e,t){void 0===t&&(t=this.colors.length);var n=new ee(e,this.onColorChange.bind(this));this.colors.splice(t,0,n),this.colors.forEach((function(e,t){return e.index=t})),this.state&&this.setState({colors:this.colors}),this.deferredEmit("color:init",n)},t.prototype.removeColor=function(e){var t=this.colors.splice(e,1)[0];t.unbind(),this.colors.forEach((function(e,t){return e.index=t})),this.state&&this.setState({colors:this.colors}),t.index===this.color.index&&this.setActiveColor(0),this.emit("color:remove",t)},t.prototype.setActiveColor=function(e){this.color=this.colors[e],this.state&&this.setState({color:this.color}),this.emit("color:setActive",this.color)},t.prototype.setColors=function(e,t){var n=this;void 0===t&&(t=0),this.colors.forEach((function(e){return e.unbind()})),this.colors=[],e.forEach((function(e){return n.addColor(e)})),this.setActiveColor(t),this.emit("color:setAll",this.colors)},t.prototype.on=function(e,t){var n=this,i=this.events;(Array.isArray(e)?e:[e]).forEach((function(e){(i[e]||(i[e]=[])).push(t),n.deferredEvents[e]&&(n.deferredEvents[e].forEach((function(e){t.apply(null,e)})),n.deferredEvents[e]=[])}))},t.prototype.off=function(e,t){var n=this;(Array.isArray(e)?e:[e]).forEach((function(e){var i=n.events[e];i&&i.splice(i.indexOf(t),1)}))},t.prototype.emit=function(e){for(var t=this,n=[],i=arguments.length-1;i-- >0;)n[i]=arguments[i+1];var r=this.activeEvents,o=!!r.hasOwnProperty(e)&&r[e];if(!o){r[e]=!0;var s=this.events[e]||[];s.forEach((function(e){return e.apply(t,n)})),r[e]=!1}},t.prototype.deferredEmit=function(e){for(var t,n=[],i=arguments.length-1;i-- >0;)n[i]=arguments[i+1];var r=this.deferredEvents;(t=this).emit.apply(t,[e].concat(n)),(r[e]||(r[e]=[])).push(n)},t.prototype.setOptions=function(e){this.setState(e)},t.prototype.resize=function(e){this.setOptions({width:e})},t.prototype.reset=function(){this.colors.forEach((function(e){return e.reset()})),this.setState({colors:this.colors})},t.prototype.onMount=function(e){this.el=e,this.deferredEmit("mount",this)},t.prototype.onColorChange=function(e,t){this.setState({color:this.color}),this.inputActive&&(this.inputActive=!1,this.emit("input:change",e,t)),this.emit("color:change",e,t)},t.prototype.emitInputEvent=function(e,t){0===e?this.emit("input:start",this.color,t):1===e?this.emit("input:move",this.color,t):2===e&&this.emit("input:end",this.color,t)},t.prototype.render=function(e,t){var n=this,i=t.layout;return Array.isArray(i)||(i=[{component:ke},{component:be}],t.transparency&&i.push({component:be,options:{sliderType:"alpha"}})),d("div",{class:"IroColorPicker",id:t.id,style:{display:t.display}},i.map((function(e,i){var r=e.component,o=e.options;return d(r,Object.assign({},t,o,{ref:void 0,onInput:n.emitInputEvent.bind(n),parent:n,index:i}))})))},t}(v);xe.defaultProps=Object.assign({},{width:300,height:300,color:"#fff",colors:[],padding:6,layoutDirection:"vertical",borderColor:"#fff",borderWidth:0,handleRadius:8,activeHandleRadius:null,handleSvg:null,handleProps:{x:0,y:0},wheelLightness:!0,wheelAngle:0,wheelDirection:"anticlockwise",sliderSize:null,sliderMargin:12,boxHeight:null},{colors:[],display:"block",id:null,layout:"default",margin:null});var Se,Ee,Ce,Te=(Ee=function(e,t){var i,r=document.createElement("div");function o(){var t=e instanceof Element?e:document.querySelector(e);t.appendChild(i.base),i.onMount(t)}return function(e,t,i){var r,o,h;n.__p&&n.__p(e,t),o=(r=i===s)?null:i&&i.__k||t.__k,e=d(f,null,[e]),h=[],E(t,r?t.__k=e:(i||t).__k=e,o||l,l,void 0!==t.ownerSVGElement,i&&!r?[i]:o?null:a.slice.call(t.childNodes),h,!1,i||l,r),C(h,e)}(d(Se,Object.assign({},{ref:function(e){return i=e}},t)),r),"loading"!==document.readyState?o():document.addEventListener("DOMContentLoaded",o),i},Ee.prototype=(Se=xe).prototype,Object.assign(Ee,Se),Ee.__component=Se,Ee);!function(e){var t;e.version="5.5.2",e.Color=ee,e.ColorPicker=Te,(t=e.ui||(e.ui={})).h=d,t.ComponentBase=ye,t.Handle=me,t.Slider=be,t.Wheel=ke,t.Box=we}(Ce||(Ce={}));var Re=Ce;class Ae{static initialize(e){t("input.color-picker",e).each((function(){new Ae(t(this),{hsl_display:!0,hex_display:!0})}))}constructor(e,n){this.picker=null,this.picker_elem=null,this.elem=e,this.elem.attr("spellcheck","false"),this.elem.attr("maxlength",7);let i=this.picker_elem=t('\n            <div class="color-picker-wrapper" />\n        ');if(n)if(n.preview_elem)this.preview_elem=n.preview_elem,this.elem.after(i);else{let e=this.preview_elem=t('\n                    <span class="color-picker-color" />\n                ');this.elem.after(e),this.preview_elem.after(i)}let r=this.close_btn=t('\n            <button class="close-button">✕</button>\n        ');if(this.picker_elem.append(r),this.color="#ffffff",this.color_swatches=[],this.elem.val(this.color),this.preview_elem.css("background",this.color),t(window).width()<=450){let e=this.picker_elem.outerWidth()/2-40;this.picker=new Re.ColorPicker(i.get(0),{color:this.color,layoutDirection:"horizontal",width:e,layout:[{component:Re.ui.Box,options:{}},{component:Re.ui.Slider,options:{sliderType:"hue"}}]})}else this.picker=new Re.ColorPicker(i.get(0),{color:this.color,layout:[{component:Re.ui.Box,options:{}},{component:Re.ui.Slider,options:{sliderType:"hue"}}]});let o=this.add_color_btn=t('\n            <button class="add_color">\n              + Add\n            </button>\n        '),s=this.remove_color_btn=t('\n            <button class="remove_color">\n              - Remove\n            </button>\n        '),l=t('<div class="buttons"/>');this.picker_elem.append(l),l.append(o).append(s),this.create_swatch=this.create_swatch.bind(this),this.remove_swatch=this.remove_swatch.bind(this),this.add_color_btn.on("click",this.create_swatch),this.remove_color_btn.on("click",this.remove_swatch);let a=this.swatches_container=t('\n            <div class="color-picker-recent"></div>\n        ');this.picker_elem.append(a),n&&this.init_options(n),this.elem.offset().top+this.elem.height()+this.picker_elem.height()>t(document).height()-44&&this.picker_elem.css("transform","translateY(calc(-100% - 28px)"),this.trigger_handle=this.trigger_handle.bind(this),this.elem.on("focus",this.trigger_handle),this.elem.on("input",(()=>{let e=this.elem.val();0===e.length&&this.elem.val("#"),this.update_hex_value(e)})),this.preview_elem.on("click",this.trigger_handle),this.update_color=this.update_color.bind(this),this.picker.on("color:change",this.update_color),this.hide_elem=this.hide_elem.bind(this),this.close_btn.on("click",this.hide_elem),this.handle_keypress=this.handle_keypress.bind(this),this.handle_click=this.handle_click.bind(this),this.init_swatches()}init_options(e){if(e.hsl_display){let e=this.picker.color.hsl,n=this.hsl_display=t(`\n                <div class="hsl-display">\n                  <div>\n                    H:\n                    <input class="h" type="number" value="${e.h}"\n                        min="0", max="360" />\n                  </div>\n                  <div>\n                    S:\n                    <input class="s" type="number" value="${e.s}"\n                        min="0", max="100" />\n                  </div>\n                  <div>\n                    L:\n                    <input class="l" type="number" value="${e.l}"\n                        min="0", max="100" />\n                  </div>\n                </div>\n            `);this.picker_elem.append(n),t("input",this.hsl_display).on("input",this.update_hsl_value.bind(this))}if(e.hex_display){let e=this.hex_display=t(`\n                <div class="hex-display">\n                  HEX:\n                  <input value="${this.picker.color.hexString}"\n                    spellcheck="false" maxlength="7" />\n                </div>\n            `);this.picker_elem.append(e);let n=this.picker.color.hexString;this.hex_display.val(n),t("input",this.hex_display).on("input",(e=>{let n=t(e.currentTarget).val();0===n.length&&t(e.currentTarget).val("#"),this.update_hex_value(n)}))}}init_swatches(){let e=localStorage.getItem("color-swatches");if(e){this.swatches_container.show(),this.color_swatches=JSON.parse(e);for(let e of this.color_swatches){let n=t(`\n                    <div class="color-swatch"\n                         id="${e.hex}"\n                         style="background:${e.hex}"/>\n                `);this.swatches_container.append(n),n.on("click",(()=>{this.color=e.color,this.picker.color.hsl=e.hsl,t("div.color-swatch").length>1&&t("div.color-swatch").removeClass("selected"),n.addClass("selected")}))}}}update_color(){let e=this.picker.color.hexString,n=this.picker.color.hsl;this.preview_elem.css("background",e),this.elem.val(e),this.hsl_display&&(t("input.h",this.hsl_display).val(n.h),t("input.s",this.hsl_display).val(n.s),t("input.l",this.hsl_display).val(n.l)),this.hex_display&&t("input",this.hex_display).val(e)}update_hsl_value(e){e.preventDefault();let n=t(e.target),i={h:this.picker.color.hsl.h,s:this.picker.color.hsl.s,l:this.picker.color.hsl.l};switch(n.attr("class")){case"h":i.h=n.val();break;case"s":i.s=n.val();break;case"l":i.l=n.val()}this.picker.color.hsl=i}update_hex_value(e){"string"!=typeof e||"#"!==e[0]||7!==e.length||isNaN(Number("0x"+e.substring(1,7)))||(this.picker.color.hexString=e)}trigger_handle(e){"none"===this.picker_elem.css("display")?(this.picker_elem.show(),t(window).on("keydown",this.handle_keypress),t(window).on("mousedown",this.handle_click)):this.hide_elem()}handle_keypress(e){"Enter"===e.key||"Escape"===e.key?(e.preventDefault(),this.hide_elem()):"Delete"===e.key&&(e.preventDefault(),this.remove_swatch())}handle_click(e){let t=this.picker_elem;t.is(e.target)||0!==t.has(e.target).length||this.preview_elem.is(e.target)||"block"!==t.css("display")||this.hide_elem()}hide_elem(e){e&&e.preventDefault(),this.picker_elem.hide(),this.elem.blur(),t(window).off("keydown",this.handle_keypress),t(window).off("mousedown",this.handle_click)}create_swatch(e){e&&(e.preventDefault(),this.swatches_container.show());let n=this.picker.color.hsl,i=this.picker.color.hexString;for(let e of this.color_swatches)if(n.h===e.hsl.h&&n.s===e.hsl.s&&n.l===e.hsl.l)return;let r=t(`\n            <div class="color-swatch" id="${i}" style="background:${i}"/>\n        `);this.color_swatches.length>=12&&(this.color_swatches.shift(),t("div.color-swatch")[0].remove()),this.swatches_container.append(r),t("div.color-swatch").removeClass("selected"),r.addClass("selected");let o={hex:i,hsl:n};this.color_swatches.push(o),r.on("click",(()=>{this.color=i,this.picker.color.hsl=n,t("div.color-swatch").removeClass("selected"),r.addClass("selected")})),this.set_swatches()}remove_swatch(e){e&&e.preventDefault();let n=t("div.color-swatch.selected"),i=n.attr("id"),r=this.color_swatches;for(let e in r)i===r[e].hex&&this.color_swatches.splice(e,1);n.remove(),t("div.color-swatch").last().addClass("selected");let o=this.color_swatches[this.color_swatches.length-1];this.picker.color.hsl=o.hsl,this.set_swatches()}set_swatches(){let e=JSON.stringify(this.color_swatches);localStorage.setItem("color-swatches",e)}}t((function(){void 0!==window.ts?ts.ajax.register(Ae.initialize,!0):Ae.initialize()})),e.ColorWidget=Ae,Object.defineProperty(e,"__esModule",{value:!0}),void 0===window.yafowil&&(window.yafowil={}),window.yafowil.color=e}({},jQuery);
//# sourceMappingURL=widget.min.js.map
